# armgen

`python3 decision_tree_generator.py` will read `instr` and output `armgen.c` and `armgen.h`

The function `check_buffer` is the entry point for the checker.

- `buf` is the buffer to check
- `len` is the size
- The return value is 0 on success, and nonzero otherwise.
  When nonzero, it should be interpreted as follows:
    - `ret & 0xffff` is the offset into `instr_names` for the failed instr
    - `(ret >> 16) & 0xffff` is the offset into `test_names` for the failed test
    - `(ret >> 32)` is the offset into `buf` that caused the failure

Right now the checker just scans the whole buffer checking each 32-bit word.
This may need to change in the future.

# building wasm sandbox

1. Clone and build: https://github.com/PLSysSec/rlbox_lucet_sandbox
2. Symilnk the `build` and `c_src` directories here.
3. cmake -S . -B ./out
4. cd out && make
